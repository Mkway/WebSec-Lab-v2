# WebSec-Lab v2 Environment Configuration

# ===== Application Settings =====
APP_NAME="WebSec-Lab v2"
APP_ENV=development
APP_DEBUG=true
APP_URL=http://localhost
APP_TIMEZONE=Asia/Seoul

# ===== Database Connections =====

# MySQL Configuration
DB_MYSQL_CONNECTION=mysql
DB_MYSQL_HOST=mysql
DB_MYSQL_PORT=3306
DB_MYSQL_DATABASE=websec_lab
DB_MYSQL_USERNAME=websec
DB_MYSQL_PASSWORD=websec123
DB_MYSQL_ROOT_PASSWORD=root123

# PostgreSQL Configuration
DB_POSTGRES_CONNECTION=postgres
DB_POSTGRES_HOST=postgres
DB_POSTGRES_PORT=5432
DB_POSTGRES_DATABASE=websec_sql_test
DB_POSTGRES_USERNAME=websec
DB_POSTGRES_PASSWORD=websec123

# MongoDB Configuration
DB_MONGODB_HOST=mongodb
DB_MONGODB_PORT=27017
DB_MONGODB_DATABASE=websec_test
DB_MONGODB_USERNAME=admin
DB_MONGODB_PASSWORD=admin123
DB_MONGODB_AUTH_SOURCE=admin

# Redis Configuration
DB_REDIS_HOST=redis
DB_REDIS_PORT=6379
DB_REDIS_PASSWORD=
DB_REDIS_DATABASE=0

# ===== Language Server URLs =====
PHP_SERVER_URL=http://php-server:8080
NODEJS_SERVER_URL=http://nodejs-server:3000
PYTHON_SERVER_URL=http://python-server:5000
JAVA_SERVER_URL=http://java-server:8081
GO_SERVER_URL=http://go-server:8082

# ===== External Ports (for direct access) =====
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443
PHP_EXTERNAL_PORT=8080
NODEJS_EXTERNAL_PORT=3000
PYTHON_EXTERNAL_PORT=5000
JAVA_EXTERNAL_PORT=8081
GO_EXTERNAL_PORT=8082
MYSQL_EXTERNAL_PORT=3306
POSTGRES_EXTERNAL_PORT=5432
MONGODB_EXTERNAL_PORT=27017
REDIS_EXTERNAL_PORT=6379

# ===== Security Settings =====
SECRET_KEY=your-secret-key-here
JWT_SECRET=your-jwt-secret-here
ENCRYPTION_KEY=your-encryption-key-here
HASH_SALT=your-hash-salt-here

# ===== SSL Configuration =====
SSL_ENABLED=false
SSL_CERT_PATH=/etc/nginx/ssl/nginx.crt
SSL_KEY_PATH=/etc/nginx/ssl/nginx.key

# ===== Logging Configuration =====
LOG_LEVEL=info
LOG_FILE_PATH=/var/log/websec-lab.log
LOG_MAX_SIZE=100MB
LOG_MAX_FILES=5

# ===== Cache Configuration =====
CACHE_DRIVER=redis
CACHE_TTL=3600
SESSION_DRIVER=redis
SESSION_LIFETIME=120

# ===== Performance Settings =====
PHP_MEMORY_LIMIT=512M
NODEJS_MAX_MEMORY=512M
PYTHON_MAX_MEMORY=512M
JAVA_XMX=1G
GO_MAX_MEMORY=256M

# ===== Development Settings =====
ENABLE_DEBUG_MODE=true
ENABLE_HOT_RELOAD=true
ENABLE_CORS=true
ALLOW_ORIGINS=http://localhost,http://127.0.0.1

# ===== Testing Configuration =====
TEST_DATABASE_SUFFIX=_test
ENABLE_TEST_DATA=true
TEST_USER_USERNAME=testuser
TEST_USER_PASSWORD=testpass123

# ===== Vulnerability Test Settings =====
ENABLE_REAL_ATTACKS=true
SAFE_MODE_DEFAULT=false
MAX_PAYLOAD_SIZE=10KB
REQUEST_TIMEOUT=30
MAX_CONCURRENT_TESTS=10

# ===== File Upload Settings =====
UPLOAD_MAX_SIZE=50MB
UPLOAD_ALLOWED_EXTENSIONS=txt,pdf,jpg,png,gif
UPLOAD_PATH=/var/www/html/uploads
ENABLE_FILE_EXECUTION=false

# ===== Rate Limiting =====
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60
RATE_LIMIT_BURST=20

# ===== Monitoring =====
ENABLE_METRICS=false
METRICS_PORT=9090
PROMETHEUS_ENABLED=false
GRAFANA_ENABLED=false

# ===== Backup Settings =====
BACKUP_ENABLED=false
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=7
BACKUP_PATH=/var/backups/websec-lab

# ===== Language-Specific Settings =====

# PHP Settings
PHP_DISPLAY_ERRORS=On
PHP_ERROR_REPORTING=E_ALL
PHP_MAX_EXECUTION_TIME=30
PHP_POST_MAX_SIZE=50M
PHP_UPLOAD_MAX_FILESIZE=50M

# Node.js Settings
NODE_ENV=development
NPM_CONFIG_LOGLEVEL=info
NODE_OPTIONS=--max-old-space-size=512

# Python Settings
PYTHONPATH=/app
FLASK_ENV=development
FLASK_DEBUG=true
DJANGO_DEBUG=true
PYTHONUNBUFFERED=1

# Java Settings
JAVA_OPTS=-Xms256m -Xmx1g -XX:+UseG1GC
SPRING_PROFILES_ACTIVE=development
MAVEN_OPTS=-Xmx512m

# Go Settings
CGO_ENABLED=1
GOOS=linux
GOARCH=amd64
GIN_MODE=debug

# ===== Docker Settings =====
COMPOSE_PROJECT_NAME=websec-lab-v2
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# ===== Network Settings =====
NETWORK_SUBNET=172.20.0.0/16
NETWORK_GATEWAY=172.20.0.1

# ===== Volume Settings =====
MYSQL_DATA_PATH=./storage/mysql
POSTGRES_DATA_PATH=./storage/postgres
MONGODB_DATA_PATH=./storage/mongodb
REDIS_DATA_PATH=./storage/redis
LOGS_PATH=./storage/logs
UPLOADS_PATH=./storage/uploads

# ===== Custom Settings =====
# Add your custom environment variables here