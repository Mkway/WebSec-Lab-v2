# UI 개선 계획 - 테스트 한눈에 보기

## 📊 현재 상황 분석

### ✅ 현재 UI의 장점
- 깔끔한 Bootstrap 5 기반 디자인
- 좌측 사이드바로 취약점 선택 가능
- 취약한/안전한 코드 비교 기능 존재
- Vue.js로 반응형 인터페이스 구현

### ❌ 현재 UI의 문제점
- **정보가 분산됨**: 페이로드, 코드, 결과가 세로로 길게 배치
- **비교가 어려움**: 취약한 코드와 안전한 코드가 떨어져 있음
- **코드 가독성 부족**: 실제 PHP 코드가 보이지 않음
- **테스트 과정 불투명**: 어떤 단계에서 무엇이 실행되는지 모름
- **결과 해석 어려움**: 성공/실패만 표시되고 상세 분석 부족

## 🎯 개선 목표

### 핵심 요구사항
1. **테스트 페이로드** - 명확하게 표시
2. **취약한 코드** - 실제 PHP 코드 표시
3. **안전한 코드** - 보안이 적용된 PHP 코드 표시
4. **실행 결과** - 시각적으로 비교 가능한 결과

### 사용자 경험 목표
- **한 화면에서 모든 정보 확인**
- **3초 안에 테스트 결과 이해**
- **코드 차이점을 직관적으로 파악**
- **실시간 테스트 진행 상황 확인**

## 🎨 새로운 UI 디자인

### 1. 통합 테스트 패널 (Split View)

```
┌─────────────────────────────────────────────────────────────┐
│  📋 테스트 설정 (상단 고정)                                    │
│  ┌─────────────┐ ┌──────────────┐ ┌─────────────┐ ┌─────────┐ │
│  │ 페이로드     │ │ 시나리오      │ │ 테스트 모드  │ │ 실행    │ │
│  │ <script>..  │ │ basic        │ │ 비교 모드    │ │ [실행]  │ │
│  └─────────────┘ └──────────────┘ └─────────────┘ └─────────┘ │
└─────────────────────────────────────────────────────────────┘

┌────────────────────────────────────────────────────────────────┐
│  🔥 취약한 코드 (좌측 50%)        🛡️ 안전한 코드 (우측 50%)    │
├────────────────────────────────┬───────────────────────────────┤
│ 📝 PHP 소스 코드                │ 📝 PHP 소스 코드               │
│ ┌─────────────────────────────┐ │ ┌─────────────────────────────┐ │
│ │ echo $_GET['input'];        │ │ │ echo htmlspecialchars(      │ │
│ │                             │ │ │   $_GET['input'],           │ │
│ │ // 필터링 없음              │ │ │   ENT_QUOTES, 'UTF-8'       │ │
│ │ // XSS 취약점 존재          │ │ │ );                          │ │
│ └─────────────────────────────┘ │ └─────────────────────────────┘ │
├────────────────────────────────┼───────────────────────────────┤
│ 🎯 실행 결과                    │ 🎯 실행 결과                   │
│ ┌─────────────────────────────┐ │ ┌─────────────────────────────┐ │
│ │ <script>alert('XSS')</script│ │ │ &lt;script&gt;alert('XSS')  │ │
│ │                             │ │ │ &lt;/script&gt;              │ │
│ │ ⚠️ XSS 실행됨!              │ │ │ ✅ XSS 차단됨               │ │
│ │ 🔴 위험도: HIGH             │ │ │ 🟢 안전함                    │ │
│ └─────────────────────────────┘ │ └─────────────────────────────┘ │
├────────────────────────────────┼───────────────────────────────┤
│ 📊 보안 분석                    │ 📊 보안 분석                   │
│ • 스크립트 태그 탐지: ✅        │ • HTML 엔티티 인코딩: ✅       │
│ • 이벤트 핸들러: 0개            │ • XSS 필터링: ✅               │
│ • 실행 시간: 0.045초            │ • 실행 시간: 0.052초           │
└────────────────────────────────┴───────────────────────────────┘
```

### 2. 실시간 테스트 진행 표시

```
┌─────────────────────────────────────────────────────────────┐
│  🔄 테스트 진행 상황                                          │
│  ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐               │
│  │ 요청 │→│ 파싱 │→│ 실행 │→│ 분석 │→│ 결과 │               │
│  │ ✅   │ │ ✅   │ │ 🔄   │ │ ⏳   │ │ ⏳   │               │
│  └──────┘ └──────┘ └──────┘ └──────┘ └──────┘               │
└─────────────────────────────────────────────────────────────┘
```

### 3. 상세 비교 분석 패널

```
┌─────────────────────────────────────────────────────────────┐
│  📈 보안 비교 분석                                            │
├─────────────────────────────────────────────────────────────┤
│  🎯 페이로드 정보                                             │
│  • 입력값: <script>alert('XSS')</script>                     │
│  • 위험도: HIGH                                               │
│  • 카테고리: Script Injection                                 │
│  • 탐지된 공격 벡터: JavaScript Execution                     │
├─────────────────────────────────────────────────────────────┤
│  🔍 실행 결과 비교                                            │
│  ┌────────────────────┬────────────────────┬──────────────┐   │
│  │ 항목                │ 취약한 코드         │ 안전한 코드   │   │
│  ├────────────────────┼────────────────────┼──────────────┤   │
│  │ XSS 실행 여부       │ ❌ 실행됨          │ ✅ 차단됨    │   │
│  │ HTML 출력           │ 원본 그대로         │ 인코딩됨     │   │
│  │ 스크립트 탐지       │ 탐지 안됨          │ 탐지됨       │   │
│  │ 보안 점수           │ 0/100              │ 95/100       │   │
│  │ 실행 시간           │ 0.045초            │ 0.052초      │   │
│  └────────────────────┴────────────────────┴──────────────┘   │
├─────────────────────────────────────────────────────────────┤
│  💡 보안 권장사항                                             │
│  • htmlspecialchars() 함수 사용으로 XSS 차단                 │
│  • ENT_QUOTES 플래그로 작은따옴표도 인코딩                    │
│  • UTF-8 인코딩 지정으로 문자셋 공격 방지                     │
│  • CSP(Content Security Policy) 헤더 추가 권장               │
└─────────────────────────────────────────────────────────────┘
```

## 🚀 구현 단계

### Phase 1: 레이아웃 개선 (1-2일)
1. **Split View 레이아웃 구현**
   - CSS Grid/Flexbox로 2분할 화면
   - 반응형 디자인 (모바일에서는 세로 배치)

2. **테스트 설정 패널 최적화**
   - 상단 고정 설정 바
   - 원클릭 페이로드 선택
   - 실시간 미리보기

### Phase 2: 코드 표시 개선 (2-3일)
1. **실제 PHP 코드 표시**
   - Syntax Highlighting (Prism.js)
   - 라인 번호 표시
   - 차이점 하이라이트

2. **코드 비교 기능**
   - Diff 뷰어 구현
   - 변경된 부분 강조
   - 툴팁으로 설명 추가

### Phase 3: 시각화 개선 (3-4일)
1. **실행 결과 시각화**
   - 색상 코딩 (빨강=위험, 초록=안전)
   - 아이콘과 상태 표시
   - 애니메이션 효과

2. **실시간 진행 상황**
   - 프로그레스 바
   - 단계별 상태 표시
   - 로딩 애니메이션

### Phase 4: 분석 기능 강화 (4-5일)
1. **상세 보안 분석**
   - 위험도 점수 계산
   - 공격 벡터 분류
   - 보안 권장사항

2. **비교 테이블**
   - 항목별 상세 비교
   - 성능 지표 표시
   - 보안 점수 시각화

## 🎨 디자인 시스템

### 색상 팔레트
```css
:root {
  /* 위험 (취약한 코드) */
  --danger-bg: #fff5f5;
  --danger-border: #fed7d7;
  --danger-text: #e53e3e;

  /* 안전 (보안 코드) */
  --success-bg: #f0fff4;
  --success-border: #c6f6d5;
  --success-text: #38a169;

  /* 정보 */
  --info-bg: #ebf8ff;
  --info-border: #bee3f8;
  --info-text: #3182ce;

  /* 중성 */
  --gray-bg: #f7fafc;
  --gray-border: #e2e8f0;
  --gray-text: #4a5568;
}
```

### 컴포넌트 디자인
1. **코드 블록**
   - 둥근 모서리 (8px)
   - 그림자 효과
   - 호버 시 하이라이트

2. **상태 표시**
   - 크고 명확한 아이콘
   - 색상으로 즉시 구분
   - 애니메이션 효과

3. **비교 테이블**
   - 교대로 배경색
   - 호버 효과
   - 정렬 가능

## 🔧 기술 구현 계획

### 프론트엔드 개선
1. **Vue 3 Composition API 활용**
   - 반응형 데이터 관리
   - 컴포넌트 분리
   - 성능 최적화

2. **새로운 라이브러리 도입**
   - **Prism.js**: 코드 하이라이트
   - **Diff2Html**: 코드 비교
   - **Chart.js**: 보안 점수 차트
   - **Animate.css**: 애니메이션

### 백엔드 API 개선
1. **응답 구조 확장**
   ```json
   {
     "success": true,
     "data": {
       "payload_info": {
         "original": "<script>alert('XSS')</script>",
         "category": "script_injection",
         "risk_level": "high",
         "attack_vectors": ["javascript_execution"]
       },
       "vulnerable_code": {
         "source": "echo $_GET['input'];",
         "file": "vulnerable.php",
         "line": 15,
         "explanation": "사용자 입력을 필터링 없이 출력"
       },
       "safe_code": {
         "source": "echo htmlspecialchars($_GET['input'], ENT_QUOTES, 'UTF-8');",
         "file": "safe.php",
         "line": 15,
         "explanation": "HTML 엔티티 인코딩으로 XSS 차단"
       },
       "execution_results": {
         "vulnerable": {
           "html_output": "<script>alert('XSS')</script>",
           "xss_detected": true,
           "security_score": 0
         },
         "safe": {
           "html_output": "&lt;script&gt;alert('XSS')&lt;/script&gt;",
           "xss_detected": false,
           "security_score": 95
         }
       },
       "comparison": {
         "diff_highlight": "...",
         "recommendations": ["..."],
         "security_improvement": 95
       }
     }
   }
   ```

## 📱 반응형 디자인

### 데스크톱 (>1200px)
- 좌우 분할 뷰
- 상세 정보 모두 표시
- 사이드바 고정

### 태블릿 (768px-1200px)
- 좌우 분할 유지
- 폰트 크기 조정
- 패딩 축소

### 모바일 (<768px)
- 상하 분할로 변경
- 탭 방식으로 전환
- 터치 친화적 버튼

## 🎯 성공 지표

### 사용성 개선
- **정보 접근 시간**: 10초 → 3초
- **코드 이해 시간**: 30초 → 10초
- **테스트 완료 시간**: 60초 → 20초

### 시각적 개선
- **한 화면 정보량**: 현재 30% → 목표 80%
- **색상 구분**: 현재 2가지 → 목표 5가지
- **애니메이션**: 현재 0개 → 목표 5개

이 계획을 바탕으로 단계별로 UI를 개선하면 사용자가 한눈에 테스트 결과를 파악할 수 있는 직관적인 인터페이스를 만들 수 있습니다!